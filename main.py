import streamlit as st

# -----------------------------
# 기본 설정
# -----------------------------
st.set_page_config(
    page_title="MBTI 진로 상담실",
    page_icon="🧭",
    layout="centered"
)

# -----------------------------
# 스타일 약간 꾸미기 (HTML + CSS)
# -----------------------------
st.markdown(
    """
    <style>
    .main-title {
        font-size: 2.3rem;
        font-weight: 800;
        text-align: center;
        margin-bottom: 0.2rem;
    }
    .sub-title {
        font-size: 1.0rem;
        text-align: center;
        color: #555;
        margin-bottom: 1.8rem;
    }
    .career-card {
        border-radius: 18px;
        padding: 14px 16px;
        margin-bottom: 10px;
        background: #f7f7ff;
        border: 1px solid #e0e0ff;
    }
    .career-title {
        font-weight: 700;
        font-size: 1.05rem;
        margin-bottom: 4px;
    }
    .career-desc {
        font-size: 0.95rem;
        color: #444;
    }
    .pill {
        display: inline-block;
        padding: 4px 10px;
        border-radius: 999px;
        background: #eef6ff;
        color: #375a7f;
        font-size: 0.8rem;
        margin-right: 4px;
    }
    .footer {
        font-size: 0.8rem;
        color: #777;
        text-align: center;
        margin-top: 2rem;
    }
    </style>
    """,
    unsafe_allow_html=True
)

# -----------------------------
# 데이터: MBTI -> 진로 추천
# -----------------------------
careers = {
    "INTJ": [
        ("연구원 🧪", "새로운 지식을 파고들고, 논리적으로 실험과 분석을 하는 일을 좋아하는 유형이에요."),
        ("전략 기획자 📊", "전체 판을 보면서 계획을 세우고, 효율적인 방법을 찾는 데 강점이 있어요."),
        ("데이터 분석가 💻", "숫자와 패턴 속에서 의미를 찾고 미래를 예측하는 역할에 잘 어울려요."),
    ],
    "INTP": [
        ("발명가 / 개발자 🛠️", "아이디어를 떠올리고, 새로운 것을 만들어보는 일에 잘 맞는 탐구형 타입이에요."),
        ("이론 물리학자 ⚛️", "‘왜 그럴까?’를 끝까지 파고드는 깊이 있는 탐구에 강해요."),
        ("게임 기획자 🎮", "새로운 시스템과 규칙을 설계하는 데 즐거움을 느낄 수 있어요."),
    ],
    "INFJ": [
        ("상담 교사 🧑‍🏫", "사람의 마음을 이해하고, 따뜻한 조언을 건네는 일을 잘할 수 있어요."),
        ("작가 ✍️", "조용히 생각을 정리해서 글로 표현하는 능력이 뛰어나요."),
        ("사회복지사 🤝", "소외된 사람들을 돕고, 더 나은 세상을 만드는 데 관심이 많아요."),
    ],
    "INFP": [
        ("동화 작가 📚", "자신만의 세계관과 감성을 스토리로 풀어내는 데 잘 어울려요."),
        ("예술가 / 일러스트레이터 🎨", "감정을 그림, 색, 형태로 표현하는 일을 즐길 수 있어요."),
        ("심리상담사 🧡", "조용하지만 깊게 사람을 이해하고 공감할 수 있는 힘이 있어요."),
    ],
    "ISTJ": [
        ("공무원 🏛️", "책임감 있고 성실해서 규칙과 시스템이 잘 잡힌 환경에 잘 맞아요."),
        ("회계사 📒", "숫자를 꼼꼼하게 다루고 실수를 줄이는 일에 강점이 있어요."),
        ("엔지니어 🔧", "매뉴얼을 잘 따르고, 안정적으로 시스템을 유지·관리하는 역할에 어울려요."),
    ],
    "ISFJ": [
        ("초등 / 중등 교사 📘", "친절하고 책임감 있게 학생들을 돕는 데 잘 맞는 유형이에요."),
        ("간호사 🏥", "세심하게 사람을 돌보고, 필요한 도움을 챙겨줄 수 있어요."),
        ("행정직 / 사무직 📂", "보이지 않는 곳에서 묵묵히 일을 챙기고 정리하는 역할에 강해요."),
    ],
    "ISTP": [
        ("기계 엔지니어 ⚙️", "직접 만져보고 고쳐보는 일을 좋아하는 손재주 좋은 유형이에요."),
        ("파일럿 / 운전 관련 직업 ✈️", "순간 판단과 집중력을 발휘하는 데 강점이 있어요."),
        ("스포츠 트레이너 🏋️", "몸을 쓰고 기술을 익히는 활동적인 환경에서 잘 성장해요."),
    ],
    "ISFP": [
        ("디자이너 🎨", "감각적인 색감과 분위기를 잘 살려서 표현할 수 있어요."),
        ("플로리스트 💐", "조용하고 예쁜 공간에서 섬세한 미적 감각을 발휘할 수 있어요."),
        ("사진 작가 📷", "순간의 감정을 포착해 예술적으로 남기는 데 어울리는 타입이에요."),
    ],
    "ENTJ": [
        ("기업가 / 스타트업 대표 🚀", "크게 생각하고, 사람들을 이끌어 새로운 도전을 하는 걸 좋아해요."),
        ("프로젝트 매니저 📂", "목표를 세우고, 계획을 세워 팀을 이끄는 데 강점이 있어요."),
        ("경영 컨설턴트 💼", "복잡한 문제를 분석하고 해결책을 제시하는 역할에 잘 맞아요."),
    ],
    "ENTP": [
        ("기획자 / 창업가 💡", "아이디어가 많고 말도 잘해서 새로운 프로젝트를 계속 만들어낼 수 있어요."),
        ("마케터 📣", "사람들의 관심을 끌 방법을 떠올리는 데 강점이 있어요."),
        ("방송 PD / 콘텐츠 기획자 🎥", "재미있는 콘셉트를 만들고 사람을 모으는 데 어울려요."),
    ],
    "ENFJ": [
        ("진로 / 진학 상담 교사 🎓", "학생들을 이끌고 응원해 주면서 방향을 함께 고민해 줄 수 있어요."),
        ("HR / 인사 담당자 🧑‍💼", "사람을 뽑고, 성장시키고, 조직 문화를 만드는 역할에 어울려요."),
        ("강연가 / 교육가 🎤", "사람들 앞에서 말하고, 긍정적인 에너지를 전하는 일을 잘 할 수 있어요."),
    ],
    "ENFP": [
        ("크리에이터 / 유튜버 📹", "즐거운 아이디어를 콘텐츠로 만들고 공유하는 데 잘 맞아요."),
        ("이벤트 플래너 🎉", "사람들을 위한 즐거운 자리와 경험을 기획하는 데 강점이 있어요."),
        ("홍보 / PR 담당자 📢", "사람들과 잘 어울리고, 친근하게 다가가는 능력이 돋보여요."),
    ],
    "ESTJ": [
        ("관리자 / 팀 리더 🧱", "규칙을 세우고, 조직을 정리해서 효율적으로 만드는 데 강점이 있어요."),
        ("프로젝트 매니저 📆", "일정을 관리하고, 각자 해야 할 일을 정리하는 역할에 어울려요."),
        ("경영자 / 관리자 💼", "현실적으로 판단하고, 실행력을 발휘하는 데 잘 맞아요."),
    ],
    "ESFJ": [
        ("학교 행정 / 학생 지원 담당 🏫", "학생과 학부모를 돕고, 학교를 따뜻한 공간으로 만드는 데 어울려요."),
        ("호텔리어 / 서비스직 🏨", "친절함과 배려로 사람을 맞이하는 일을 잘할 수 있어요."),
        ("코디네이터 / 매니저 🧺", "사람들을 챙기고 일정과 상황을 정리해 주는 역할에 강해요."),
    ],
    "ESTP": [
        ("영업 / 비즈니스직 💳", "즉흥적인 상황에도 말 잘하고, 사람들과 금방 친해지는 타입이에요."),
        ("스포츠 선수 / 코치 ⚽", "활동적이고 경쟁심이 있어, 몸을 쓰는 환경에 잘 맞아요."),
        ("응급 구조 / 소방 관련 🚒", "빠른 판단과 행동으로 현장에서 활약할 수 있어요."),
    ],
    "ESFP": [
        ("연예인 / 공연 예술가 🎤", "사람들 앞에서 즐겁게 에너지를 나누는 걸 좋아하는 유형이에요."),
        ("유치원 교사 / 레크레이션 강사 🧸", "아이들과 놀고 웃으면서 배움을 이끌 수 있어요."),
        ("여행 가이드 ✈️", "사람들에게 즐거운 경험을 선물하고 함께 어울리는 일을 잘해요."),
    ],
}

mbti_list = list(careers.keys())

# -----------------------------
# 메인 레이아웃
# -----------------------------
st.markdown("<div class='main-title'>🧭 MBTI 진로 상담실</div>", unsafe_allow_html=True)
st.markdown("<div class='sub-title'>나의 성격 유형에 어울리는 진로를 가볍게 맛보기로 살펴보는 시간 ✨<br>정답은 아니지만, 나를 이해하는 작은 힌트가 될 수도 있어요!</div>", unsafe_allow_html=True)

col_left, col_right = st.columns(2)

with col_left:
    name = st.text_input("이름(또는 닉네임) ✍️", placeholder="예: 도영, 별빛소년, 과학러버")

with col_right:
    mbti = st.selectbox(
        "나의 MBTI는? 🔍",
        mbti_list,
        index=mbti_list.index("INFP") if "INFP" in mbti_list else 0
    )

st.markdown("---")

# 체크 박스: 가벼운 안내
st.info("💡 이 결과는 참고용이에요! 진짜 진로를 정할 때는 **흥미, 가치관, 능력, 현실적인 여건** 등을 함께 고민해 보는 게 좋아요.")

if st.button("진로 추천 받기 🚀"):
    if mbti not in careers:
        st.error("해당 MBTI에 대한 정보가 아직 없어요. 다시 선택해 주세요.")
    else:
        if name.strip():
            st.success(f"✨ {name} 님({mbti})에게 어울릴 수 있는 진로 3가지를 추천해 볼게요!")
        else:
            st.success(f"✨ {mbti} 유형에게 어울릴 수 있는 진로 3가지를 추천해 볼게요!")

        st.write("")
        for title, desc in careers[mbti]:
            st.markdown(
                f"""
                <div class="career-card">
                    <div class="career-title">{title}</div>
                    <div class="career-desc">{desc}</div>
                </div>
                """,
                unsafe_allow_html=True
            )

        # 작게 태그 느낌 이모지
        st.markdown(
            """
            <div style="margin-top: 0.8rem;">
                <span class="pill">🧠 나를 이해하는 첫걸음</span>
                <span class="pill">🚪 진로 탐색의 문 두드리기</span>
                <span class="pill">🌱 아직은 ‘가능성’을 키우는 시기</span>
            </div>
            """,
            unsafe_allow_html=True
        )

st.markdown(
    """
    <div class="footer">
        🔁 MBTI를 바꿔 가며 여러 유형의 진로를 비교해 봐도 좋아요.<br>
        결국 가장 중요한 기준은, <b>“내가 진짜로 해보고 싶은가?”</b>라는 마음이에요 🌟
    </div>
    """,
    unsafe_allow_html=True
)
